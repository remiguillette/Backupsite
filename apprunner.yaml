# Version du fichier de configuration App Runner.
version: 1.0

# Environnement d'exécution Node.js.
runtime: nodejs18

# Section 'build'.
build:
  commands:
    pre-build:
      - npm install
    build:
      - npm run build

# Section 'run' avec la syntaxe correcte pour 'env'.
run:
  command: npm run start
  network:
    port: 8080
  # 'env' doit être une liste (commençant par des tirets).
  env:
    - name: LOG_DIRECTORY
      value: /tmp
    - name: NODE_ENV
      value: production